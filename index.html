<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Sinhala Mulakuru</title>
  <link rel="icon" type="image/png" href="assets/logo.png">
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Sinhala:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- <header> -->
  <header class="card header-car">
    <div class="logo-title">
      <img src="assets/logo.png" alt="Logo" class="logo" />
      <span class="sinhala-badge">‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω üá±üá∞</span>
      <div class="header-title-row" style="display: flex; align-items: center; gap: 0.7rem;">
        <h1>Sinhala Mulakuru</h1>
        <span id="premium-badge" class="premium-badge" style="display:none;">Premium</span>
      </div>
    </div>
    <button id="mode-toggle" aria-label="Toggle dark mode">üåô</button>
  </header>
  <div id="ad-container" class="ad-blend">
    <span class="ad-label">Advertisement</span>
    <div class="ad-video-row">
      <a href="https://web.facebook.com/SouthCreationsAdvertising" target="_blank" rel="noopener noreferrer">
      <video class="ad-video" width="90" height="60" src="./ads/1.mp4" autoplay muted loop playsinline></video>
    </a>
    <a href="https://web.facebook.com/photo/?fbid=732457939285554&set=a.176519848212702" target="_blank" rel="noopener noreferrer">
      <img class="ad-video" width="90" height="60" src="https://scontent.fcmb3-2.fna.fbcdn.net/v/t39.30808-6/513493380_732457942618887_6782244650915688458_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=127cfc&_nc_eui2=AeGEWx5y5xpzz1SR6DZzUsP88K43Q-2R4oXwrjdD7ZHihed7G5nMVbdxsrvSwBO19WH0uc40O1PO3rng5-9uuKQ0&_nc_ohc=eSLKbEb11rIQ7kNvwG5FUGb&_nc_oc=Adno8t3wT7znqMD-HvmY7_BrHNmhWmK7S3HKPYq_QkYPQs96KrvQushPI_Xtpdm-TLFPkIuKrD5O3ah1yOUDMq2K&_nc_zt=23&_nc_ht=scontent.fcmb3-2.fna&_nc_gid=6lftMTjR-WqC_B4MEh9KuA&oh=00_AfSbyVVXAWRsGrA9SeWtWq0KKljJCIUOM0a6KgwhZAlIYA&oe=6887CE5F" autoplay muted loop playsinline></img>
    </a>
      <!-- <video class="ad-video" width="90" height="60" src="./ads/1.mp4" autoplay muted loop playsinline></video>
      <video class="ad-video" width="90" height="60" src="./ads/1.mp4" autoplay muted loop playsinline></video>
      <video class="ad-video" width="90" height="60" src="" autoplay muted loop playsinline></video> -->
    </div>
  </div>
  <main>
    <section class="card main-card">
      <!-- <h1 class="main-heading">Sinhala Typing Test</h1> -->
      <div class="timer-section">
        <label for="time-select">Select time:</label>
        <select id="time-select">
          <option value="60">1 minute</option>
          <option value="120">2 minutes</option>
          <option value="180">3 minutes</option>
        </select>
        <span id="timer-display">01:00</span>
      </div>

      <div class="select">
      <div class="difficulty-select" style="margin-bottom: 1rem;">
        <label for="difficulty">Select difficulty:</label>
        <select id="difficulty">
          <option value="easy">Easy</option>
          <option value="medium">Medium</option>
          <option value="hard">Hard</option>
          <option value="custom">Custom</option>
        </select>
      </div>
      

      <div class="keyboard-section" style="margin-bottom: 1rem;">
        <label for="keyboard-method">Keyboard method:</label>
        <select id="keyboard-method">
          <option value="phonetic">Phonetic</option>
          <option value="wijesekara">Wijesekara</option>
        </select>
      </div>
      </div>
      <div class="custom-text-section" style="display: none;">
        <label for="custom-text-input">Paste your custom text here:</label>
        <textarea id="custom-text-input" rows="4" placeholder="Enter any Sinhala text you want to practice..."></textarea>
      </div>
      <div class="typing-area-card typing-area" style="margin-bottom: 1.2rem;">
        <div id="sentence-display" class="sentence-display">‡∂∏‡∑ô‡∑Ñ‡∑í ‡∑Ä‡∂†‡∂±/‡∑Ä‡∂ö‡∑ä‚Äç‡∂∫ ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∂∫‡∑í</div>
        <div style="display: flex; align-items: center; gap: 0.5rem; margin-top: 0.7rem;">
          <input type="text" id="typing-input" placeholder="Type here in Sinhala..." autocomplete="off" />
          <button id="wijesekara-suggest-toggle" title="Wijesekara Letter Suggestion ON/OFF" style="display: none;">üîî</button>
          <div id="wijesekara-suggest-tooltip" style="display: none;"></div>
        </div>
        <div class="start-reset-row" style="display: flex; gap: 1rem; justify-content: center; align-items: center; margin: 1rem 0;">
          <button id="start-btn" aria-label="Start typing test">Start</button>
          <button id="restart-btn" type="button" title="Restart test" style="font-size: 1.3rem; background: none; border: none; color: var(--primary); cursor: pointer;">üîÑ</button>
        </div>
        <div class="progress-bar-bg">
          <div id="progress-bar"></div>
        </div>
        <div class="stats-card_stats2" >
          <div class="stat-badge">Speed: <span id="wpm">0</span> WPM</div>
          <div class="stat-badge">Accuracy: <span id="accuracy">0</span>%</div>
          <div class="stat-badge">Words: <span id="word-count">0</span></div>
        </div>
        <div class="feedback" id="feedback"></div>
        <div id="custom-keyboard-section" style="display:none; margin-top:1rem;">
          <label>Custom Keyboard Layout (Premium):</label>
          <textarea id="custom-keyboard-mapping" rows="3" placeholder="e.g. q=‡∂§, w=‡∑Ä, ..."></textarea>
          <button id="save-custom-keyboard" class="footer-btn">Save Layout</button>
        </div>
        <div id="custom-theme-section" style="display:none; margin-top:1rem;">
          <label>Custom Theme (Premium):</label>
          <select id="custom-theme-select">
            <option value="default">Default</option>
            <option value="blue">Blue</option>
            <option value="green">Green</option>
            <option value="pink">Pink</option>
            <option value="dark">Dark</option>
          </select>
        </div>
        <button id="logout-premium-btn" class="footer-btn" style="display:none; margin-top:1rem; background:#e11d48; color:#fff;">Logout Premium</button>
      </div>



    <!-- table leaderboard -->
      <div class="leaderboard-card leaderboard-section" style="margin-top: 1.2rem;">
        <h2>Leaderboard</h2>
        <table id="leaderboard">
          <thead>
            <tr>
              <th>Rank</th>
              <th>WPM</th>
              <th>Accuracy</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody>
            <!-- Leaderboard rows will be inserted here -->
          </tbody>
        </table>
        <button id="reset-leaderboard-btn" class="footer-btn" style="background:#e11d48; color:#fff; margin-top:1rem;">Reset Leaderboard</button>
        <button id="activate-premium-btn" class="premium-link-btn" type="button">üîì Unlock Premium features</button>
      </div>
      <div id="reset-modal" class="modal-overlay" style="display:none;">
        <div class="modal-content card" style="max-width:350px; text-align:center;">
          <button class="close-modal-reset" style="position:absolute;top:1rem;right:1rem;font-size:1.5rem;background:none;border:none;cursor:pointer;">&times;</button>
          <h2 style="margin-bottom:0.7rem;">Reset Leaderboard</h2>
          <div style="margin-bottom:0.7rem;">Are you sure you want to reset the leaderboard? This cannot be undone.</div>
          <input id="reset-password-input" type="password" placeholder="Enter password" style="width:90%;padding:0.6em;margin-bottom:0.5em;border-radius:7px;border:1.5px solid #e0e7ef;">
          <div id="reset-error-msg" style="color:#e11d48;min-height:1.2em;margin-bottom:0.5em;"></div>
          <div style="display:flex;gap:1rem;justify-content:center;">
            <button id="reset-confirm-btn" class="footer-btn" style="background:#e11d48;color:#fff;">Confirm</button>
            <button id="reset-cancel-btn" class="footer-btn" style="background:#e0e7ef;color:#222;">Cancel</button>
          </div>
        </div>
      </div>
    </section>
  </main>
  <footer class="card footer-card">
    <small>¬© 2024 Sinhala Moolakuru | Developed by <a href="https://github.com/janithsuraweera/" target="_blank">Janith Suraweera</a></small>
    <button id="about-btn" class="footer-btn" aria-label="About Sinhala Moolakuru">About</button>
  </footer>

  <!-- About Modal -->
  <div id="about-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <button class="close-modal-about">&times;</button>
      <h2>About Sinhala Moolakuru</h2>
      <p>This application is designed to help you learn and practice Sinhala typing with different keyboard layouts.</p>
      <p><strong>Version:</strong> 1.0.0</p>
      <p><strong>Features:</strong></p>
      <ul>
        <li>Multiple keyboard layouts (Phonetic, Wijesekara, Unicode)</li>
        <li>Difficulty levels & Custom text practice</li>
        <li>Typing speed (WPM) and accuracy tracking</li>
        <li>Time challenge mode & Mistake highlighting</li>
      </ul>
      <p>Developed with ‚ù§Ô∏è by <a href="https://github.com/janithsuraweera/" target="_blank">Janith Suraweera</a>.</p>
    </div>
    
  </div>
  <!-- <div id="ad-container" class="ad-blend">
    <span class="ad-label">Advertisement</span>
    <video class="ad-video" width="320" height="90" src="./ads/1.mp4" autoplay muted loop playsinline></video>
  </div> -->
  

  <div id="help-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <button class="close-modal-help">&times;</button>
      <h2>How to Type Sinhala</h2>
      <div id="phonetic-guide">
        <h3>Phonetic Keyboard</h3>
        <p>Type English letters to get Sinhala letters. Examples:</p>
        <ul>
          <li><code>amma</code> ‚Üí <strong>‡∂Ö‡∂∏‡∑ä‡∂∏‡∑è</strong></li>
          <li><code>paasala</code> ‚Üí <strong>‡∂¥‡∑è‡∑É‡∂Ω</strong></li>
          <li><code>iskoolaya</code> ‚Üí <strong>‡∂â‡∑É‡∑ä‡∂ö‡∑ù‡∂Ω‡∂∫</strong></li>
        </ul>
        <p>This method is intuitive and easy for beginners.</p>
      </div>
      <div id="wijesekara-guide" style="display: none;">
        <h3>Wijesekara Keyboard Layout</h3>
        <p>This follows the standard Wijesekara layout. Key mappings:</p>
        <!-- A simple table for demonstration -->
        <table>
          <tr><td>a ‚Üí ‡∂Ö</td><td>A ‚Üí ‡∂Ü</td><td>k ‚Üí ‡∂ö</td><td>K ‚Üí ‡∂õ</td></tr>
          <tr><td>g ‚Üí ‡∂ú</td><td>G ‚Üí ‡∂ù</td><td>j ‚Üí ‡∂¢</td><td>J ‚Üí ‡∂£</td></tr>
          <!-- Add more rows for the full layout -->
        </table>
      </div>
    </div>
  </div>
  <button id="help-btn">?</button>

  <!-- Session Report Modal -->
  <div id="session-report-modal" class="modal-overlay fade-in" style="display: none;">
    <div class="modal-content card report-modern">
      <button class="close-modal-report">&times;</button>
      <div id="report-illustration" style="text-align:center; margin-bottom:1rem;"></div>
      <h2 id="report-heading" style="text-align:center; margin-bottom:0.5rem;"></h2>
      <div id="report-summary" style="text-align:center; margin-bottom:1.2rem;"></div>
      <div class="report-stats-modern" style="display:flex; justify-content:center; gap:1.2rem; margin-bottom:1.2rem;">
        <div class="report-stat-badge wpm"><span id="report-wpm">0</span> WPM</div>
        <div class="report-stat-badge cpm"><span id="report-cpm">0</span> CPM</div>
        <div class="report-stat-badge accuracy"><span id="report-accuracy">0</span> % Accuracy</div>
      </div>
      <div class="report-share-row" style="text-align:center; margin-bottom:1.2rem;">
        <span style="font-size:0.98rem; color:#444;">Share your score</span><br>
        <a href="" class="report-share-btn fb" title="Share on Facebook">&#xf09a;</a>
        <a href="#" class="report-share-btn li" title="Share on LinkedIn">&#xf0e1;</a>
        <a href="#" class="report-share-btn tw" title="Share on Twitter">&#xf099;</a>
      </div>
      <div style="text-align:center; margin-bottom:1.2rem;">
        <a href="#leaderboard" class="report-leaderboard-link">View Leaderboard</a>
      </div>
      <div class="report-action-row" style="display:flex; justify-content:center; gap:1.2rem;">
        <button id="modal-restart-btn" class="footer-btn report-btn-try" aria-label="Restart typing test">Try Again</button>
        <button class="footer-btn report-btn-save">Save</button>
      </div>
    </div>
  </div>

  <!-- Premium Activation Modal -->
  <div id="premium-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <button class="close-modal-premium">&times;</button>
      <h2>Activate Premium</h2>
      <p>Enter your premium code to unlock custom keyboard layouts and themes.</p>
      <input type="text" id="premium-code-input" placeholder="Enter code here..." style="width: 100%; padding: 0.5rem; margin-bottom: 1rem;" />
      <button id="submit-premium-code" class="footer-btn">Activate</button>
      <div id="premium-feedback" style="color: #e11d48; margin-top: 0.5rem;"></div>
    </div>
  </div>

  <audio id="countdown-sound" src="sound/cutdown1.mp3" preload="auto"></audio>
  <script src="js/app.js"></script>
</body>
</html> 