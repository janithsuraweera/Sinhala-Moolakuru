<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sinhala Mulakuru</title>
  <link rel="icon" type="image/png" href="assets/logo.png">
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Sinhala:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <header class="card header-card">
    <div class="logo-title">
      <img src="assets/logo.png" alt="Logo" class="logo" />
      <span class="sinhala-badge">‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω üá±üá∞</span>
      <div class="header-title-row" style="display: flex; align-items: center; gap: 0.7rem;">
        <h1>Sinhala Mulakuru</h1>
        <span id="premium-badge" class="premium-badge" style="display:none;">Premium</span>
      </div>
    </div>
    <button id="mode-toggle" aria-label="Toggle dark mode">üåô</button>
  </header>
  <main>
    <section class="card controls-card difficulty-select">
      <label>Select difficulty:</label>
      <select id="difficulty">
        <option value="easy">Easy</option>
        <option value="medium">Medium</option>
        <option value="hard">Hard</option>
        <option value="custom">Custom</option>
      </select>
    </section>
    <section class="card custom-text-section" style="display: none;">
      <label for="custom-text-input">Paste your custom text here:</label>
      <textarea id="custom-text-input" rows="4" placeholder="Enter any Sinhala text you want to practice..."></textarea>
    </section>
    <section class="card timer-section">
      <label>Select time:</label>
      <select id="time-select">
        <option value="60">1 minute</option>
        <option value="120">2 minutes</option>
        <option value="180">3 minutes</option>
      </select>
      <span id="timer-display">01:00</span>
    </section>
    <section class="card keyboard-section">
      <label for="keyboard-method">Keyboard method:</label>
      <select id="keyboard-method">
        <option value="phonetic">Phonetic</option>
        <option value="wijesekara">Wijesekara</option>
        <!-- <option value="unicode">Unicode</option> -->
      </select>
    </section>
    <section class="card typing-area-card typing-area">
      <div id="sentence-display" class="sentence-display">‡∂∏‡∑ô‡∑Ñ‡∑í ‡∑Ä‡∂†‡∂±/‡∑Ä‡∂ö‡∑ä‚Äç‡∂∫ ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∂∫‡∑í</div>
      <div style="display: flex; align-items: center; gap: 0.5rem;">
        <input type="text" id="typing-input" placeholder="Type here in Sinhala..." autocomplete="off" />
        <button id="wijesekara-suggest-toggle" title="Wijesekara Letter Suggestion ON/OFF" style="display: none;">üîî</button>
        <div id="wijesekara-suggest-tooltip" style="display: none;"></div>
      </div>
      <button id="activate-premium-btn" class="footer-btn" style="margin-top: 1rem;">Activate Premium</button>
      <div id="custom-keyboard-section" style="display:none; margin-top:1rem;">
        <label>Custom Keyboard Layout (Premium):</label>
        <textarea id="custom-keyboard-mapping" rows="3" placeholder="e.g. q=‡∂§, w=‡∑Ä, ..."></textarea>
        <button id="save-custom-keyboard" class="footer-btn">Save Layout</button>
      </div>
      <div id="custom-theme-section" style="display:none; margin-top:1rem;">
        <label>Custom Theme (Premium):</label>
        <select id="custom-theme-select">
          <option value="default">Default</option>
          <option value="blue">Blue</option>
          <option value="green">Green</option>
          <option value="pink">Pink</option>
          <option value="dark">Dark</option>
        </select>
      </div>
      <button id="logout-premium-btn" class="footer-btn" style="display:none; margin-top:1rem; background:#e11d48; color:#fff;">Logout Premium</button>
      <div class="progress-bar-bg">
        <div id="progress-bar"></div>
      </div>
      <div class="feedback" id="feedback"></div>
    </section>
    <section class="card stats-card stats">
      <div class="stat-badge">Speed: <span id="wpm">0</span> WPM</div>
      <div class="stat-badge">Accuracy: <span id="accuracy">0</span>%</div>
    </section>
    <section class="card controls-card controls">
      <button id="start-btn" aria-label="Start typing test">Start</button>
    </section>
    <section class="card leaderboard-card leaderboard-section">
      <h2>Leaderboard</h2>
      <table id="leaderboard">
        <thead>
          <tr>
            <th>Rank</th>
            <th>WPM</th>
            <th>Accuracy</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody>
          <!-- Leaderboard rows will be inserted here -->
        </tbody>
      </table>
    </section>
  </main>
  <footer class="card footer-card">
    <small>¬© 2024 Sinhala Moolakuru | Developed by <a href="https://github.com/janithsuraweera/" target="_blank">Janith Suraweera</a></small>
    <button id="about-btn" class="footer-btn" aria-label="About Sinhala Moolakuru">About</button>
  </footer>

  <!-- About Modal -->
  <div id="about-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <button class="close-modal-about">&times;</button>
      <h2>About Sinhala Moolakuru</h2>
      <p>This application is designed to help you learn and practice Sinhala typing with different keyboard layouts.</p>
      <p><strong>Version:</strong> 1.0.0</p>
      <p><strong>Features:</strong></p>
      <ul>
        <li>Multiple keyboard layouts (Phonetic, Wijesekara, Unicode)</li>
        <li>Difficulty levels & Custom text practice</li>
        <li>Typing speed (WPM) and accuracy tracking</li>
        <li>Time challenge mode & Mistake highlighting</li>
      </ul>
      <p>Developed with ‚ù§Ô∏è by <a href="https://github.com/janithsuraweera/" target="_blank">Janith Suraweera</a>.</p>
    </div>
  </div>

  <div id="help-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <button class="close-modal-help">&times;</button>
      <h2>How to Type Sinhala</h2>
      <div id="phonetic-guide">
        <h3>Phonetic Keyboard</h3>
        <p>Type English letters to get Sinhala letters. Examples:</p>
        <ul>
          <li><code>amma</code> ‚Üí <strong>‡∂Ö‡∂∏‡∑ä‡∂∏‡∑è</strong></li>
          <li><code>paasala</code> ‚Üí <strong>‡∂¥‡∑è‡∑É‡∂Ω</strong></li>
          <li><code>iskoolaya</code> ‚Üí <strong>‡∂â‡∑É‡∑ä‡∂ö‡∑ù‡∂Ω‡∂∫</strong></li>
        </ul>
        <p>This method is intuitive and easy for beginners.</p>
      </div>
      <div id="wijesekara-guide" style="display: none;">
        <h3>Wijesekara Keyboard Layout</h3>
        <p>This follows the standard Wijesekara layout. Key mappings:</p>
        <!-- A simple table for demonstration -->
        <table>
          <tr><td>a ‚Üí ‡∂Ö</td><td>A ‚Üí ‡∂Ü</td><td>k ‚Üí ‡∂ö</td><td>K ‚Üí ‡∂õ</td></tr>
          <tr><td>g ‚Üí ‡∂ú</td><td>G ‚Üí ‡∂ù</td><td>j ‚Üí ‡∂¢</td><td>J ‚Üí ‡∂£</td></tr>
          <!-- Add more rows for the full layout -->
        </table>
      </div>
    </div>
  </div>
  <button id="help-btn">?</button>

  <!-- Session Report Modal -->
  <div id="session-report-modal" class="modal-overlay fade-in" style="display: none;">
    <div class="modal-content card">
      <button class="close-modal-report">&times;</button>
      <h2>Session Report</h2>
      <div class="report-level">
        Your Level: <span id="report-level" class="level-badge">‚≠ê Beginner</span>
      </div>
      <div class="report-stats">
        <div>WPM: <span id="report-wpm">0</span></div>
        <div>Accuracy: <span id="report-accuracy">0</span>%</div>
        <div>Correct Words: <span id="report-correct">0</span></div>
        <div>Incorrect Words: <span id="report-incorrect">0</span></div>
      </div>
      <button id="modal-restart-btn" class="footer-btn" style="margin-top:1rem;" aria-label="Restart typing test">Restart</button>
    </div>
  </div>

  <!-- Premium Activation Modal -->
  <div id="premium-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <button class="close-modal-premium">&times;</button>
      <h2>Activate Premium</h2>
      <p>Enter your premium code to unlock custom keyboard layouts and themes.</p>
      <input type="text" id="premium-code-input" placeholder="Enter code here..." style="width: 100%; padding: 0.5rem; margin-bottom: 1rem;" />
      <button id="submit-premium-code" class="footer-btn">Activate</button>
      <div id="premium-feedback" style="color: #e11d48; margin-top: 0.5rem;"></div>
    </div>
  </div>

  <script src="js/app.js"></script>
</body>
</html> 