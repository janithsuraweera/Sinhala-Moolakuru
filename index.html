<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sinhala Moolakuru</title>
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Sinhala:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <div class="logo-title">
      <img src="assets/logo.png" alt="Logo" class="logo" />
      <h1>Sinhala Moolakuru</h1>
    </div>
    <button id="mode-toggle">üåô</button>
  </header>
  <main>
    <section class="difficulty-select">
      <label>Select difficulty:</label>
      <select id="difficulty">
        <option value="easy">Easy</option>
        <option value="medium">Medium</option>
        <option value="hard">Hard</option>
        <option value="custom">Custom</option>
      </select>
    </section>
    <section class="custom-text-section" style="display: none;">
      <label for="custom-text-input">Paste your custom text here:</label>
      <textarea id="custom-text-input" rows="4" placeholder="Enter any Sinhala text you want to practice..."></textarea>
    </section>
    <section class="timer-section">
      <label>Select time:</label>
      <select id="time-select">
        <option value="60">1 minute</option>
        <option value="120">2 minutes</option>
        <option value="180">3 minutes</option>
      </select>
      <span id="timer-display">01:00</span>
    </section>
    <section class="keyboard-section">
      <label for="keyboard-method">Keyboard method:</label>
      <select id="keyboard-method">
        <option value="phonetic">Phonetic</option>
        <option value="wijesekara">Wijesekara</option>
        <option value="unicode">Unicode</option>
      </select>
    </section>
    <section class="typing-area">
      <div id="sentence-display">‡∂∏‡∑ô‡∑Ñ‡∑í ‡∑Ä‡∂†‡∂±/‡∑Ä‡∂ö‡∑ä‚Äç‡∂∫ ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∂∫‡∑í</div>
      <div style="display: flex; align-items: center; gap: 0.5rem;">
        <input type="text" id="typing-input" placeholder="Type here in Sinhala..." autocomplete="off" />
        <button id="wijesekara-suggest-toggle" title="Wijesekara Letter Suggestion ON/OFF" style="display: none;">üîî</button>
        <div id="wijesekara-suggest-tooltip" style="display: none;"></div>
      </div>
      <div class="progress-bar-bg">
        <div id="progress-bar"></div>
      </div>
      <div class="feedback" id="feedback"></div>
    </section>
    <section class="stats">
      <div>Speed: <span id="wpm">0</span> WPM</div>
      <div>Accuracy: <span id="accuracy">0</span>%</div>
    </section>
    <section class="controls">
      <button id="start-btn">Start</button>
      <button id="restart-btn" style="display:none;">Restart</button>
    </section>
    <section class="leaderboard-section">
      <h2>Leaderboard</h2>
      <table id="leaderboard">
        <thead>
          <tr>
            <th>Rank</th>
            <th>WPM</th>
            <th>Accuracy</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody>
          <!-- Leaderboard rows will be inserted here -->
        </tbody>
      </table>
    </section>
  </main>
  <footer>
    <small>¬© 2024 Sinhala Moolakuru | Developed by <a href="https://github.com/janithsuraweera/" target="_blank">Janith Suraweera</a></small>
    <button id="about-btn" class="footer-btn">About</button>
  </footer>

  <!-- About Modal -->
  <div id="about-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <button class="close-modal-about">&times;</button>
      <h2>About Sinhala Moolakuru</h2>
      <p>This application is designed to help you learn and practice Sinhala typing with different keyboard layouts.</p>
      <p><strong>Version:</strong> 1.0.0</p>
      <p><strong>Features:</strong></p>
      <ul>
        <li>Multiple keyboard layouts (Phonetic, Wijesekara, Unicode)</li>
        <li>Difficulty levels & Custom text practice</li>
        <li>Typing speed (WPM) and accuracy tracking</li>
        <li>Time challenge mode & Mistake highlighting</li>
      </ul>
      <p>Developed with ‚ù§Ô∏è by <a href="https://github.com/janithsuraweera/" target="_blank">Janith Suraweera</a>.</p>
    </div>
  </div>

  <div id="help-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <button class="close-modal-help">&times;</button>
      <h2>How to Type Sinhala</h2>
      <div id="phonetic-guide">
        <h3>Phonetic Keyboard</h3>
        <p>Type English letters to get Sinhala letters. Examples:</p>
        <ul>
          <li><code>amma</code> ‚Üí <strong>‡∂Ö‡∂∏‡∑ä‡∂∏‡∑è</strong></li>
          <li><code>paasala</code> ‚Üí <strong>‡∂¥‡∑è‡∑É‡∂Ω</strong></li>
          <li><code>iskoolaya</code> ‚Üí <strong>‡∂â‡∑É‡∑ä‡∂ö‡∑ù‡∂Ω‡∂∫</strong></li>
        </ul>
        <p>This method is intuitive and easy for beginners.</p>
      </div>
      <div id="wijesekara-guide" style="display: none;">
        <h3>Wijesekara Keyboard Layout</h3>
        <p>This follows the standard Wijesekara layout. Key mappings:</p>
        <!-- A simple table for demonstration -->
        <table>
          <tr><td>a ‚Üí ‡∂Ö</td><td>A ‚Üí ‡∂Ü</td><td>k ‚Üí ‡∂ö</td><td>K ‚Üí ‡∂õ</td></tr>
          <tr><td>g ‚Üí ‡∂ú</td><td>G ‚Üí ‡∂ù</td><td>j ‚Üí ‡∂¢</td><td>J ‚Üí ‡∂£</td></tr>
          <!-- Add more rows for the full layout -->
        </table>
      </div>
    </div>
  </div>
  <button id="help-btn">?</button>

  <!-- Session Report Modal -->
  <div id="session-report-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <button class="close-modal-report">&times;</button>
      <h2>Session Report</h2>
      <div class="report-level">
        Your Level: <span id="report-level">Beginner</span>
      </div>
      <div class="report-stats">
        <div>WPM: <span id="report-wpm">0</span></div>
        <div>Accuracy: <span id="report-accuracy">0</span>%</div>
        <div>Correct Words: <span id="report-correct">0</span></div>
        <div>Incorrect Words: <span id="report-incorrect">0</span></div>
      </div>
    </div>
  </div>

  <script src="js/app.js"></script>
</body>
</html> 